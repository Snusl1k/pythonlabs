### Лабораторна робота №11: Розширена робота з масивами чисел у Python

**Мета роботи:**

*   Поглибити знання та навички роботи з масивами (списками) чисел у Python.
*   Розглянути різноманітні алгоритми та методи обробки масивів, включаючи сортування, пошук, обчислення, перетворення та інші операції.
*   Застосувати отримані знання для вирішення практичних завдань, пов'язаних з аналізом та маніпуляцією числовими даними.

**Опис завдання:**

Реалізувати наступні функції для роботи з масивами чисел:

1.  **`sum_of_squares(arr)`:** Обчислює суму квадратів усіх чисел у масиві `arr`.
2.  **`filter_and_sum(arr)`:** Фільтрує масив `arr`, залишаючи лише числа, більші або рівні за середнє значення, та обчислює їх суму.
3.  **`sort_by_frequency(arr)`:** Сортує масив `arr` за частотою появи елементів у порядку спадання. Якщо частоти рівні, сортування відбувається за зростанням значень елементів.
4.  **`find_missing_number(arr)`:** Знаходить відсутнє число в масиві `arr`, що містить усі цілі числа від 1 до n, крім одного.
5.  **`longest_consecutive(nums)`:** Знаходить довжину найдовшої послідовності послідовних елементів у несортованому масиві `nums`.
6.  **`rotate_array(arr, k)`:** Циклічно зсуває масив `arr` на `k` позицій вправо.
7.  **`array_of_products(nums)`:** Обчислює масив добутків усіх чисел у масиві `nums`, крім числа на поточному індексі, без використання ділення.
8.  **`max_subarray_sum(nums)`:** Знаходить максимальну суму підмасиву в одновимірному масиві `nums`.
9.  **`spiral_order(matrix)`:** Повертає всі елементи двовимірної матриці `matrix` у порядку спіралі.
10. **`k_closest_points(points, k)`:** Знаходить `k` найближчих точок до початку координат (0, 0) на площині, заданих масивом координат `points`.

**Виконання роботи:**

1.  **Функція `sum_of_squares(arr)`:**
    *   Використовує генератор списку (list comprehension) для обчислення квадратів кожного елемента масиву та функцію `sum()` для їх підсумовування.

2.  **Функція `filter_and_sum(arr)`:**
    *   Обчислює середнє значення масиву.
    *   Фільтрує масив, залишаючи лише елементи, більші або рівні за середнє.
    *   Обчислює суму відфільтрованих елементів.

3.  **Функція `sort_by_frequency(arr)`:**
    *   Використовує `collections.Counter` для підрахунку частоти елементів.
    *   Сортує масив за допомогою `sorted()`, використовуючи лямбда-функцію як ключ сортування. Ключ сортування враховує частоту елемента (зі знаком мінус для сортування за спаданням) та значення елемента (для сортування за зростанням при рівних частотах).

4.  **Функція `find_missing_number(arr)`:**
    *   Обчислює очікувану суму чисел від 1 до n за формулою суми арифметичної прогресії.
    *   Обчислює фактичну суму чисел у масиві.
    *   Різниця між очікуваною та фактичною сумою дає відсутнє число.

5.  **Функція `longest_consecutive(nums)`:**
    *   Створює множину `num_set` для швидкого пошуку елементів.
    *   Перебирає елементи множини. Якщо попереднє число відсутнє у множині, починає пошук послідовності від поточного числа.
    *   Знаходить довжину поточної послідовності та оновлює максимальну довжину, якщо потрібно.

6.  **Функція `rotate_array(arr, k)`:**
    *   Приводить `k` до діапазону [0, len(arr)) за допомогою операції взяття остачі від ділення.
    *   Розвертає весь масив.
    *   Розвертає перші `k` елементів.
    *   Розвертає решту елементів.

7.  **Функція `array_of_products(nums)`:**
    *   Створює два допоміжні масиви: `left_products` (добутки елементів зліва від поточного) та `right_products` (добутки елементів справа від поточного).
    *   Обчислює добутки в цих масивах.
    *   Обчислює результуючий масив, перемножуючи відповідні елементи `left_products` та `right_products`.

8.  **Функція `max_subarray_sum(nums)`:**
    *   Використовує алгоритм Кадане для знаходження максимальної суми підмасиву.
    *   Підтримує змінну `current_sum` для поточної суми підмасиву та `max_sum` для максимальної суми.
    *   На кожному кроці оновлює `current_sum`, вибираючи максимум між поточним елементом та сумою поточного елемента з попередньою сумою.
    *   Оновлює `max_sum`, якщо поточна сума більша.

9.  **Функція `spiral_order(matrix)`:**
    *   Використовує чотири змінні (`top`, `bottom`, `left`, `right`) для відстеження меж поточної спіралі.
    *   Рухається по спіралі, додаючи елементи до результуючого списку `result`.
    *   Змінює межі спіралі після кожного повного проходу.

10. **Функція `k_closest_points(points, k)`:**
    *   Використовує функцію `distance` для обчислення відстані від точки до початку координат.
    *   Створює список кортежів `(відстань, точка)` для всіх точок.
    *   Використовує купу (`heapq`) для знаходження `k` найменших елементів (тобто найближчих точок).

**Висновки:**

У цій лабораторній роботі ми розглянули різноманітні алгоритми та методи обробки масивів чисел у Python. Ми реалізували функції для обчислення суми квадратів, фільтрації та сумування, сортування за частотою, пошуку відсутнього числа, знаходження найдовшої послідовності, циклічного зсуву, обчислення добутків, знаходження максимальної суми підмасиву, обходу матриці по спіралі та знаходження найближчих точок. Ці функції можуть бути корисними для вирішення різноманітних завдань у сфері аналізу даних та обробки числових масивів.
